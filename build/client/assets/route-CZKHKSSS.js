import{j as i}from"./index-Bhhhx7h4.js";import{A as n}from"./index-CWUlnviP.js";import{S as h}from"./provider-RLEbTht8.js";import{R as g,C as u}from"./row-B-zWIMNx.js";import{E as x}from"./index-LQraNpB7.js";import{C as f}from"./index-cPgcPs25.js";import{F as o,T as t}from"./index-C7Q2D2Yy.js";import{T as y}from"./index-BSzoOTG-.js";import{P as j}from"./index-C6x-598G.js";import"./index-BzyPBYP5.js";import"./responsiveObserver-CzlRrsiN.js";import"./Dropdown-EsR9A278.js";import"./index-BHyeewtM.js";import"./EllipsisOutlined-Bce2vzrs.js";import"./useClosable-Bdp6jF3W.js";function N(){const{data:r,isLoading:a}=n.billing.findManyProducts.useQuery({},{initialData:[]}),{mutateAsync:l}=n.billing.createPaymentLink.useMutation(),{data:c}=n.billing.findManySubscriptions.useQuery({},{initialData:[]}),d=async e=>{const{url:s}=await l({productId:e.id});window.open(s,"_blank")},m=e=>e.price===0?"Free":`XAF ${e.price}`,p=e=>c.find(s=>s.productId===e.id);return i.jsx(j,{isCentered:!0,children:i.jsxs(g,{gutter:[16,16],justify:"center",className:"w-full",children:[r.length===0&&a&&i.jsx(h,{}),r.length===0&&!a&&i.jsx(x,{imageStyle:{height:60},description:"No products found on Stripe"}),r.filter(e=>e.name!=="Enterprise").map(e=>i.jsx(u,{xs:24,sm:12,md:12,lg:12,xl:8,children:i.jsx(f,{style:{height:"100%",overflow:"hidden"},hoverable:!0,onClick:()=>d(e),cover:i.jsx(o,{style:{position:"relative",height:"40vh",width:"100%",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},children:i.jsx("img",{src:e.coverUrl,alt:e.name,style:{position:"absolute",top:0,left:0,height:"100%",width:"100%",objectFit:"cover"}})}),children:i.jsxs(o,{vertical:!0,gap:10,children:[i.jsx(t.Title,{level:3,style:{margin:0},children:e.name}),i.jsxs(o,{align:"center",children:[i.jsx(t.Title,{level:1,style:{margin:0},children:m(e)}),e.interval&&i.jsxs(t.Text,{className:"ml-1",children:["/ ",e.interval]})]}),p(e)&&i.jsx("div",{children:i.jsx(y,{color:"success",children:"Active"})}),i.jsx(t.Text,{type:"secondary",children:e.description})]})})},e.id))]})})}export{N as default};
