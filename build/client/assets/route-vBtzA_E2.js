import{j as r}from"./index-Bhhhx7h4.js";import{u as x,a as g}from"./index-CeUTncnb.js";import{F as s,I as n}from"./index-IivWOIOz.js";import{F as e}from"./index-Bs36QOeU.js";import{A as j}from"./index-DoFAsXEz.js";import{A as w}from"./index-DIL_-TYb.js";import{B as t}from"./button-DgkAoqE2.js";import{A as y,T as f}from"./index-D9_lrgu6.js";import{s as P}from"./index-DaEJ5rVL.js";import"./pickAttrs-r0RFaJBP.js";import"./SearchOutlined-CdaQ9A1C.js";import"./collapse-BbEVqHco.js";import"./row-DHszOpHb.js";import"./responsiveObserver-Cz69L87y.js";import"./ExclamationCircleFilled-CiuxUjGk.js";import"./index-DEJDlrjn.js";import"./CloseOutlined-Dxm4jkL9.js";const{Text:o}=f;function N(){const a=x(),{token:d}=g(),[p]=s.useForm(),{mutateAsync:l,isLoading:c,isSuccess:i}=y.authentication.resetPassword.useMutation(),m=async u=>{try{await l({token:d,password:u.password})}catch(h){P.error(`Could not reset password: ${h.message}`)}};return r.jsx(r.Fragment,{children:r.jsx(e,{align:"center",justify:"center",vertical:!0,flex:1,children:r.jsxs(e,{vertical:!0,style:{width:"340px",paddingBottom:"100px",paddingTop:"100px"},gap:"middle",children:[r.jsx(j,{description:"Change your password"}),i&&r.jsx(w,{style:{textAlign:"center"},type:"success",message:"Your password has been changed."}),!i&&r.jsxs(s,{form:p,onFinish:m,layout:"vertical",requiredMark:!1,children:[r.jsx(s.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Password is required"}],children:r.jsx(n.Password,{type:"password",placeholder:"Your new password",autoComplete:"current-password"})}),r.jsx(s.Item,{label:"Password confirmation",name:"passwordConfirmation",rules:[{required:!0,message:"Password confirmation is required"}],children:r.jsx(n.Password,{type:"password",placeholder:"Password confirmation",autoComplete:"current-password"})}),r.jsx(s.Item,{children:r.jsx(t,{type:"primary",htmlType:"submit",loading:c,block:!0,children:"Reset Password"})})]}),r.jsxs(e,{justify:"center",align:"center",children:[r.jsx(t,{ghost:!0,style:{border:"none"},onClick:()=>a("/login"),children:r.jsx(e,{gap:"small",justify:"center",children:r.jsx(o,{children:"Sign in"})})}),r.jsx(o,{type:"secondary",children:"or"}),r.jsx(t,{ghost:!0,style:{border:"none"},onClick:()=>a("/register"),children:r.jsx(e,{gap:"small",justify:"center",children:r.jsx(o,{children:"Sign up"})})})]})]})})})}export{N as default};
