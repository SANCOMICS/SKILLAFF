import{j as e}from"./index-Bhhhx7h4.js";import{u as y}from"./useUserContext-CjczNUYd.js";import{A as v,T as w}from"./index-D9_lrgu6.js";import{I}from"./index-CH34cjkL.js";import{u as P,a as k}from"./index-CeUTncnb.js";import{S as C}from"./index-_rPoQdzz.js";import{B as m}from"./button-DgkAoqE2.js";import{L as s}from"./index-_u3NotOF.js";import{C as d}from"./index-ydtyDG1o.js";import{s as p}from"./index-DaEJ5rVL.js";import{P as c}from"./index-ufwEpZVH.js";import"./index-Bs36QOeU.js";import"./Pagination-DseZJcil.js";import"./LeftOutlined-R_ycQdco.js";import"./pickAttrs-r0RFaJBP.js";import"./useBreakpoint-D4cuiZ4X.js";import"./responsiveObserver-Cz69L87y.js";import"./EllipsisOutlined-D3hTA01Z.js";import"./index-Hz7ZMWx3.js";import"./CloseOutlined-Dxm4jkL9.js";import"./SearchOutlined-CdaQ9A1C.js";import"./row-DHszOpHb.js";import"./Dropdown-DVbf8yOU.js";import"./index-CeoCv33H.js";import"./ExclamationCircleFilled-CiuxUjGk.js";const{Title:x,Text:o}=w;function Z(){var l;const a=P(),{isLoggedIn:u}=y(),{courseId:g}=k(),{data:t,isLoading:h}=v.course.findUnique.useQuery({where:{id:g},include:{sections:{include:{videos:!0}}}}),j=async i=>{if(!u){p.warning("Please login to join courses"),a("/login");return}if(!i.paymentLink){p.warning("Payment link not available");return}window.location.href=i.paymentLink};return h?e.jsx(c,{layout:"full-width",children:e.jsx("div",{style:{textAlign:"center",padding:"50px"},children:e.jsx(C,{size:"large"})})}):e.jsxs(c,{layout:"full-width",children:[e.jsx("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:e.jsx(I.Img,{src:t==null?void 0:t.previewUrl,srcOnError:"/images/course-fallback.jpg",isPretty:!0,styleWrapper:{position:"relative",maxWidth:"100%",height:"auto",aspectRatio:"16/9"},styleImg:{objectFit:"cover",objectPosition:"center",width:"100%",height:"100%"}})}),e.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"20px"},children:[e.jsx(x,{level:2,children:t==null?void 0:t.title}),e.jsx(o,{children:t==null?void 0:t.description}),e.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[e.jsxs(o,{strong:!0,children:["XAF ",t==null?void 0:t.price]}),e.jsx(m,{type:"primary",onClick:()=>j(t),children:"GET NOW"})]}),e.jsx(s,{className:"mt-8",dataSource:(l=t==null?void 0:t.sections)==null?void 0:l.sort((i,r)=>i.order-r.order),renderItem:i=>{var r;return e.jsx(s.Item,{children:e.jsx(d,{title:i.title,className:"w-full",children:e.jsx(s,{dataSource:(r=i.videos)==null?void 0:r.sort((n,f)=>n.order-f.order),renderItem:n=>e.jsx(s.Item,{children:e.jsx(o,{children:n.title})})})})})}}),e.jsxs(d,{style:{marginTop:"24px",textAlign:"center",background:"#f0f7ff"},children:[e.jsxs(x,{level:4,children:[e.jsx("i",{className:"las la-crown"})," Unlock All Premium Content"]}),e.jsx(o,{children:"Get unlimited access to all our premium courses and exclusive content."}),e.jsx("div",{style:{marginTop:"16px"},children:e.jsx(m,{type:"primary",size:"large",onClick:()=>a("/upgrade"),children:"Upgrade Now"})})]})]})]})}export{Z as default};
