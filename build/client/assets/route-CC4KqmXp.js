import{j as e}from"./index-Bhhhx7h4.js";import{u as y}from"./useUserContext-ltZQ69X3.js";import{A as v}from"./index-CWUlnviP.js";import{S as w}from"./provider-RLEbTht8.js";import{I}from"./index-CH34cjkL.js";import{u as P,a as k}from"./index-CeUTncnb.js";import{T as C,B as m}from"./index-C7Q2D2Yy.js";import{L as s}from"./index-D28acUWU.js";import{C as d}from"./index-cPgcPs25.js";import{s as c}from"./index-BzyPBYP5.js";import{P as p}from"./index-C6x-598G.js";import"./Pagination-D2AnF2UC.js";import"./useBreakpoint-CiMsAa-F.js";import"./responsiveObserver-CzlRrsiN.js";import"./EllipsisOutlined-Bce2vzrs.js";import"./index-LQraNpB7.js";import"./SearchOutlined-ADv_U9mc.js";import"./row-B-zWIMNx.js";import"./Dropdown-EsR9A278.js";import"./index-BHyeewtM.js";const{Title:x,Text:n}=C;function H(){var l;const a=P(),{isLoggedIn:u}=y(),{courseId:g}=k(),{data:t,isLoading:h}=v.course.findUnique.useQuery({where:{id:g},include:{sections:{include:{videos:!0}}}}),j=async i=>{if(!u){c.warning("Please login to join courses"),a("/login");return}if(!i.paymentLink){c.warning("Payment link not available");return}window.location.href=i.paymentLink};return h?e.jsx(p,{layout:"full-width",children:e.jsx("div",{style:{textAlign:"center",padding:"50px"},children:e.jsx(w,{size:"large"})})}):e.jsxs(p,{layout:"full-width",children:[e.jsx("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:e.jsx(I.Img,{src:t==null?void 0:t.previewUrl,srcOnError:"/images/course-fallback.jpg",isPretty:!0,styleWrapper:{position:"relative",maxWidth:"100%",height:"auto",aspectRatio:"16/9"},styleImg:{objectFit:"cover",objectPosition:"center",width:"100%",height:"100%"}})}),e.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"20px"},children:[e.jsx(x,{level:2,children:t==null?void 0:t.title}),e.jsx(n,{children:t==null?void 0:t.description}),e.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[e.jsxs(n,{strong:!0,children:["XAF ",t==null?void 0:t.price]}),e.jsx(m,{type:"primary",onClick:()=>j(t),children:"GET NOW"})]}),e.jsx(s,{className:"mt-8",dataSource:(l=t==null?void 0:t.sections)==null?void 0:l.sort((i,r)=>i.order-r.order),renderItem:i=>{var r;return e.jsx(s.Item,{children:e.jsx(d,{title:i.title,className:"w-full",children:e.jsx(s,{dataSource:(r=i.videos)==null?void 0:r.sort((o,f)=>o.order-f.order),renderItem:o=>e.jsx(s.Item,{children:e.jsx(n,{children:o.title})})})})})}}),e.jsxs(d,{style:{marginTop:"24px",textAlign:"center",background:"#f0f7ff"},children:[e.jsxs(x,{level:4,children:[e.jsx("i",{className:"las la-crown"})," Unlock All Premium Content"]}),e.jsx(n,{children:"Get unlimited access to all our premium courses and exclusive content."}),e.jsx("div",{style:{marginTop:"16px"},children:e.jsx(m,{type:"primary",size:"large",onClick:()=>a("/upgrade"),children:"Upgrade Now"})})]})]})]})}export{H as default};
