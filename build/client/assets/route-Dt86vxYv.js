import{j as e}from"./index-Bhhhx7h4.js";import{u as w}from"./index-CeUTncnb.js";import{s as n}from"./index-DaEJ5rVL.js";import{A as c,T as P}from"./index-D9_lrgu6.js";import{R as p,C as m}from"./row-DHszOpHb.js";import{C as y}from"./index-ydtyDG1o.js";import{B as s}from"./button-DgkAoqE2.js";import{F as b}from"./index-Bs36QOeU.js";import{u as k}from"./useUserContext-CjczNUYd.js";import{P as v}from"./index-ufwEpZVH.js";import"./ExclamationCircleFilled-CiuxUjGk.js";import"./pickAttrs-r0RFaJBP.js";import"./CloseOutlined-Dxm4jkL9.js";import"./responsiveObserver-Cz69L87y.js";import"./Dropdown-DVbf8yOU.js";import"./index-CeoCv33H.js";import"./EllipsisOutlined-D3hTA01Z.js";import"./index-_rPoQdzz.js";const{Title:l,Text:d,Paragraph:h}=P;function _(){w();const{user:A}=k(),{data:o,isLoading:x}=c.billing.findManyProducts.useQuery({}),{data:r,isLoading:a,error:F,refetch:g}=c.premiumLink.findFirst.useQuery(void 0,{onError:()=>{n.error("Failed to load premium payment link")}}),{mutateAsync:u}=c.billing.createPaymentLink.useMutation(),f=async i=>{try{const{url:t}=await u({productId:i});t&&(window.location.href=t)}catch(t){n.error("Fapshi payment processing failed. Please try again."),console.error("Payment error:",t)}},j=[{icon:"crown",title:"Premium Courses",description:"Access to all premium courses and content"},{icon:"download",title:"Offline Access",description:"Download courses for offline viewing"},{icon:"certificate",title:"Certificates",description:"Earn certificates upon course completion"}];return e.jsx(v,{layout:"full-width",children:e.jsxs("div",{style:{maxWidth:1200,margin:"0 auto",padding:"24px"},children:[e.jsxs(l,{level:2,style:{textAlign:"center"},children:[e.jsx("i",{className:"las la-gem",style:{marginRight:8}}),"Upgrade to Premium"]}),e.jsx(h,{style:{textAlign:"center",marginBottom:40},children:"Unlock all premium features and take your learning experience to the next level"}),e.jsx(p,{gutter:[24,24],style:{marginBottom:48},children:j.map((i,t)=>e.jsx(m,{xs:24,sm:12,md:6,children:e.jsxs(y,{style:{height:"100%",textAlign:"center"},children:[e.jsx("i",{className:`las la-${i.icon}`,style:{fontSize:32,color:"#1890ff",marginBottom:16}}),e.jsx(l,{level:4,children:i.title}),e.jsx(d,{type:"secondary",children:i.description})]})},t))}),e.jsx("div",{style:{textAlign:"center",marginBottom:48},children:e.jsx(s,{type:"primary",size:"large",onClick:()=>{a||(r!=null&&r.url?window.location.href=r.url:(n.warning("Payment link not available. Please try again later."),g()))},loading:a,icon:e.jsx("i",{className:"las la-gem"}),style:{background:"#1890ff",borderColor:"#1890ff",padding:"0 40px"},children:a?"Loading...":"PAY NOW"})}),e.jsx(p,{gutter:[24,24],justify:"center",children:x?e.jsx(m,{span:24,style:{textAlign:"center"},children:e.jsx(d,{children:"Loading available plans..."})}):o==null?void 0:o.filter(i=>i.name!=="Enterprise").map((i,t)=>e.jsx(m,{xs:24,sm:12,children:e.jsxs(y,{title:e.jsx(l,{level:3,style:{textAlign:"center",margin:0},children:i.name}),style:{height:"100%"},children:[e.jsx("div",{style:{textAlign:"center",marginBottom:24},children:e.jsx(l,{level:2,style:{margin:0},children:i.name==="Basic"?"Free":"XAF 3000/month"})}),e.jsx(h,{style:{minHeight:80},children:i.description}),e.jsxs(b,{vertical:!0,gap:8,children:[e.jsx(s,{type:"primary",size:"large",block:!0,onClick:()=>f(i.id),icon:e.jsx("img",{src:"/fapshi-icon.png",alt:"Fapshi",style:{height:"16px",marginRight:"8px"}}),style:{background:"#FF6B00",borderColor:"#FF6B00",boxShadow:"0 2px 0 rgba(255, 107, 0, 0.1)",fontWeight:600},className:"hover:opacity-90 transition-opacity",children:"Pay with Fapshi"}),e.jsx(s,{type:"primary",size:"large",block:!0,onClick:()=>{a||(r!=null&&r.url?window.location.href=r.url:(n.warning("Payment link not available. Please try again later."),g()))},loading:a,icon:e.jsx("i",{className:"las la-gem"}),style:{background:"#1890ff",borderColor:"#1890ff"},children:a?"Loading...":"Pay Now"}),e.jsx(s,{type:"default",size:"large",block:!0,onClick:()=>window.open("/pricing","_blank"),icon:e.jsx("i",{className:"las la-info-circle"}),children:"Learn More"})]})]})},t))}),e.jsx("div",{style:{textAlign:"center",marginTop:48},children:e.jsxs(d,{type:"secondary",children:[e.jsx("i",{className:"las la-lock",style:{marginRight:8}}),"Secure payment powered by Fapshi - Premium Features Await!"]})})]})})}export{_ as default};
